<pre><font color="#007f69">turtles-own</font><font color="#000000"> [ partyleader radius finding]<br /></font><font color="#007f69">globals</font><font color="#000000"> [partyelectionred partyelectiongreen partyelectionyellow]<br /><br /></font><font color="#007f69">to</font><font color="#000000"> setup<br />  </font><font color="#0000aa">clear-all</font><font color="#000000"><br />  </font><font color="#0000aa">create-turtles</font><font color="#000000"> kandidaten[<br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">shape</font><font color="#000000"> </font><font color="#963700">&quot;circle&quot;</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">0.5</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000"><br />    </font><font color="#5a5a5a">;; visualize the turtles from left to right in ascending order of wealth</font><font color="#000000"><br />    </font><font color="#0000aa">setxy</font><font color="#000000"> </font><font color="#660096">random-xcor</font><font color="#000000"> </font><font color="#660096">random-ycor</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> partyleader </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> finding </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> partyelectionred </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> partyelectiongreen </font><font color="#963700">0</font><font color="#000000"><br />    </font><font color="#0000aa">set</font><font color="#000000"> partyelectionyellow </font><font color="#963700">0</font><font color="#000000"><br />  ]<br /><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">one-of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> [ </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> partyleader </font><font color="#963700">1</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">one-of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [partyleader </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> partyleader </font><font color="#963700">2</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">one-of</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [partyleader </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">yellow</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> partyleader </font><font color="#963700">3</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">size</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">]<br />  </font><font color="#0000aa">reset-ticks</font><font color="#000000"><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> clearboard<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [partyleader </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> finding </font><font color="#963700">0</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> radius </font><font color="#963700">0</font><font color="#000000">]<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> gofirst<br /> </font><font color="#5a5a5a">; ask turtles with [partyleader &lt; 1] [set color white]</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [partyleader </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> finding </font><font color="#963700">0</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> radius </font><font color="#963700">0</font><font color="#000000">]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ partyleader </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> ] [ findfirstparty ]<br />  countelections<br />  </font><font color="#0000aa">tick</font><font color="#000000"><br />  <br /></font><font color="#007f69">end</font><font color="#000000">   <br /><br /></font><font color="#007f69">to</font><font color="#000000"> gosecond<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [partyleader </font><font color="#660096">&lt;</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> finding </font><font color="#963700">0</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> radius </font><font color="#963700">0</font><font color="#000000">]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [ partyleader </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> ] [ findsecondparty ]<br />  <br />  countelections<br />  </font><font color="#0000aa">tick</font><font color="#000000"><br /><br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> findfirstparty<br />  <br />  </font><font color="#0000aa">set</font><font color="#000000"> radius </font><font color="#963700">0</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> finding </font><font color="#963700">1</font><font color="#000000"><br />    </font><font color="#0000aa">loop</font><font color="#000000"> [<br /><br />      </font><font color="#0000aa">set</font><font color="#000000"> radius radius </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"><br />   </font><font color="#5a5a5a">;   if turtles in-radius radius = 1 turtle [ask turtles in-radius radius [ set turtles color red ]]</font><font color="#000000"><br />  </font><font color="#5a5a5a">;    ask turtles with [color = white] [ask turtles in-radius radius with [partyleader &lt; 1 and color = white] [ set color red ]] </font><font color="#000000"><br />  </font><font color="#5a5a5a">;    ask turtles with [color = white] [ask turtles in-radius radius with [partyleader &lt; 1 and color = white] [ set color yellow ]] </font><font color="#000000"><br />  </font><font color="#5a5a5a">;    ask turtles with [color = white] [ask turtles in-radius radius with [partyleader &lt; 1 and color = green] [ set color green ]] </font><font color="#000000"><br />  </font><font color="#5a5a5a">;    if turtles in-radius radius with [partyleader &lt; 1 and color = green] &gt; 2 [ show &quot;green&quot;]</font><font color="#000000"><br />      <br />      </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> radius </font><font color="#660096">with</font><font color="#000000"> [partyleader </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000">] [</font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> finding </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> finding </font><font color="#963700">2</font><font color="#000000">]] <br />      </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> radius </font><font color="#660096">with</font><font color="#000000"> [partyleader </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">yellow</font><font color="#000000">] [</font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> finding </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">yellow</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> finding </font><font color="#963700">2</font><font color="#000000">]] <br />      </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> radius </font><font color="#660096">with</font><font color="#000000"> [partyleader </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">] [</font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> finding </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> finding </font><font color="#963700">2</font><font color="#000000">]] <br />   </font><font color="#5a5a5a">;   ask patches in-radius radius [ set pcolor cyan ]</font><font color="#000000"><br />      </font><font color="#0000aa">if</font><font color="#000000"> finding </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000"> [</font><font color="#0000aa">stop</font><font color="#000000">] <br />        <br />       <br />       ] <br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /><br /></font><font color="#007f69">to</font><font color="#000000"> findsecondparty<br />  <br />  </font><font color="#0000aa">set</font><font color="#000000"> radius </font><font color="#963700">0</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> finding </font><font color="#963700">1</font><font color="#000000"><br />    </font><font color="#0000aa">loop</font><font color="#000000"> [<br />      </font><font color="#0000aa">set</font><font color="#000000"> radius radius </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">           <br />      </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> radius </font><font color="#660096">with</font><font color="#000000"> [partyleader </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000">] [</font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [(</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> finding </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> finding </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">)] [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> finding finding </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">]] <br />      </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> radius </font><font color="#660096">with</font><font color="#000000"> [partyleader </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">yellow</font><font color="#000000">] [</font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [(</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> finding </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">yellow</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> finding </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">)] [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">yellow</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> finding finding </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000"> ]] <br />      </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">in-radius</font><font color="#000000"> radius </font><font color="#660096">with</font><font color="#000000"> [partyleader </font><font color="#660096">&gt;</font><font color="#000000"> </font><font color="#963700">0</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">] [</font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [(</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">white</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> finding </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">) </font><font color="#660096">or</font><font color="#000000"> (</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">!=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> </font><font color="#660096">and</font><font color="#000000"> finding </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">2</font><font color="#000000">)] [</font><font color="#0000aa">set</font><font color="#000000"> </font><font color="#660096">color</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000"> </font><font color="#0000aa">set</font><font color="#000000"> finding finding </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">]] <br /><br />      </font><font color="#0000aa">if</font><font color="#000000"> finding </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">3</font><font color="#000000"> [</font><font color="#0000aa">stop</font><font color="#000000">] <br />        <br /><br />       ] <br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /></font><font color="#007f69">to</font><font color="#000000"> countelections<br />  </font><font color="#0000aa">set</font><font color="#000000"> partyelectionred </font><font color="#963700">0</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> partyelectiongreen </font><font color="#963700">0</font><font color="#000000"><br />  </font><font color="#0000aa">set</font><font color="#000000"> partyelectionyellow </font><font color="#963700">0</font><font color="#000000"><br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">red</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> partyelectionred partyelectionred </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">green</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> partyelectiongreen partyelectiongreen </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">]<br />  </font><font color="#0000aa">ask</font><font color="#000000"> </font><font color="#660096">turtles</font><font color="#000000"> </font><font color="#660096">with</font><font color="#000000"> [</font><font color="#660096">color</font><font color="#000000"> </font><font color="#660096">=</font><font color="#000000"> </font><font color="#963700">yellow</font><font color="#000000">] [</font><font color="#0000aa">set</font><font color="#000000"> partyelectionyellow partyelectionyellow </font><font color="#660096">+</font><font color="#000000"> </font><font color="#963700">1</font><font color="#000000">]<br />  </font><font color="#0000aa">output-show</font><font color="#000000"> </font><font color="#963700">&quot;Election result:&quot;</font><font color="#000000"><br />  </font><font color="#0000aa">output-show</font><font color="#000000"> partyelectionred  <br />  </font><font color="#0000aa">output-show</font><font color="#000000"> partyelectionyellow<br />  </font><font color="#0000aa">output-show</font><font color="#000000"> partyelectiongreen<br /></font><font color="#007f69">end</font><font color="#000000"><br /><br /><br /><br /></font>
</pre>
